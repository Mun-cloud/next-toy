model Comment {
    id        Int         @id @default(autoincrement())
    content   String
    authorId  Int
    postId    Int
    createdAt DateTime    @default(now())
    updatedAt DateTime    @updatedAt
    children  CoComment[]
    post      Post        @relation(fields: [postId], references: [id], onDelete: Cascade)
    author    User        @relation(fields: [authorId], references: [id], onDelete: Cascade)

    @@index([authorId, postId])
}

model CoComment {
    id        Int      @id @default(autoincrement())
    content   String
    authorId  Int
    parentId  Int
    createdAt DateTime @default(now())
    updatedAt DateTime @updatedAt
    parent    Comment  @relation(fields: [parentId], references: [id], onDelete: Cascade)
    author    User     @relation(fields: [authorId], references: [id], onDelete: Cascade)

    @@index([authorId, parentId])
}
