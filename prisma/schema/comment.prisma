model Comment {
    id        Int         @id @default(autoincrement())
    content   String
    authorId  Int
    author    User        @relation(fields: [authorId], references: [id])
    postId    Int
    post      Post        @relation(fields: [postId], references: [id])
    children  CoComment[]
    createdAt DateTime    @default(now())
    updatedAt DateTime    @updatedAt

    @@index([authorId, postId])
}

model CoComment {
    id        Int      @id @default(autoincrement())
    content   String
    authorId  Int
    author    User     @relation(fields: [authorId], references: [id])
    parentId  Int
    parent    Comment  @relation(fields: [parentId], references: [id])
    createdAt DateTime @default(now())
    updatedAt DateTime @updatedAt

    @@index([authorId, parentId])
}
